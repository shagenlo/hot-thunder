<md-content flex layout-fill layout-padding>
    <form name='authForm' 
          ng-submit='authForm.$valid && vm.submitAction({user:vm.user})' 
          novalidate
          class='form-signin'>
        <h2 ng-bind='vm.formTitle'></h2>
        <br>
        <!--Server Authentication Error-->
        <p ng-show="vm.error" ng-bind="vm.error" class="text-danger"></p>

        <div layout-gt-sm="column" ng-cloak>
            <!-- Email Input-->
            <md-input-container class="md-block" flex-gt-sm>
                <input ng-model='vm.user.email' 
                       ng-model-options="{updateOn:'default blur', debounce:{'default':1000, 'blur':0}}" 
                       type='email' 
                       name='email' 
                       class='form-control' 
                       placeholder='Email address' 
                       required 
                       autofocus/>
                
                 <!-- Email Error-->
                <div ng-messages="authForm.email.$error" role="alert"> <!--ng-show='authForm.$submitted'-->
                    <div ng-message="required" class="md-warn">Email Required</div>
                    <div ng-message="email" class="md-warn">Please enter a valid email</div>
                </div>               
            </md-input-container>

            <!-- Password input-->
            <md-input-container class="md-block" flex-gt-sm>
                <input ng-model='vm.user.password' 
                       type='password' 
                       name='password' 
                       class='form-control' 
                       placeholder='Password' 
                       required/>
                
                <!-- Password error-->
                <div ng-messages="authForm.password.$error" role="alert">  <!--ng-show='authForm.$submitted'-->
                    <div ng-message="required" class="md-warn">Password required</div>
                    <div ng-message="wrong-password" class="md-warn">Wrong Password</div>
                </div>                 
            </md-input-container> 
        </div>
        <md-button id='submit-button' class="md-raised md-primary form-workflow-button" ng-bind='vm.buttonTitle' type='submit' aria-label='{{vm.ariaLabel}}' ng-cloak></md-button>
    </form>
</md-content>